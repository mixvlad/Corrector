import { Question } from './question';
import { InMemoryDbService } from 'angular-in-memory-web-api';
import { Injectable } from '@angular/core';

@Injectable({
  providedIn: 'root'
})
export class InMemoryDataService implements InMemoryDbService {
  createDb() {
    const commaQuestions = [
      {
        id: 1,
        questionText: `Виконт был подан обществу в самом изящном и выгодном для него свете,
      как ростбиф на горячем блюде, посыпанный зеленью.`,
        correctText: `Виконт был подан обществу в самом изящном и выгодном для него свете,
      как ростбиф на горячем блюде, посыпанный зеленью.`,
        trueBtnText: 'Запятая нужна, это сравнение.',
        falseBtnText: 'Без запятой, это сказуемое.',
        needCommas: true,
        trueRuleInfo: 'Запятая нужна, потому что это сравнения.',
        falseRuleInfo: 'Запятая нужна, потому что это сравнение.',
        helpMessage: 'Автор сравнивает виконта с ростбифом, сказуемое — «был подан».',
        author: `Л. Н. Толстой «Война и мир»`
      },
      {
        id: 2,
        questionText: `Ничто так не нужно молодому человеку, как общество умных женщин.`,
        correctText: `Ничто так не нужно молодому человеку, как общество умных женщин.`,
        trueBtnText: 'Без запятой, значение «в качестве».',
        falseBtnText: 'Запятая всегда нужна в такой конструкции.',
        needCommas: true,
        trueRuleInfo: 'Запятая всегда нужна в конструкциях «Ничто так не… , как».',
        falseRuleInfo: 'Запятая всегда нужна в конструкциях «Ничто так не… , как».',
        helpMessage:
          'Если в первой части предложения есть слово «так», «такой», «тот», то запятая всегда ставится. Кроме случаев с союзом «так как».',
        author: `Л. Н. Толстой «Война и мир»`
      },
      {
        id: 3,
        questionText: `Пьер был неуклюж. Он, как говорится, не умел войти в салон и еще менее умел из него выйти.`,
        correctText: `Пьер был неуклюж. Он, как говорится, не умел войти в салон и еще менее умел из него выйти.`,
        trueBtnText: 'Без запятой, это фразеологизм.',
        falseBtnText: 'Запятая нужна, это вводное словосочетание.',
        needCommas: true,
        trueRuleInfo: '«Как говорится» — вводная конструкция и выделяется запятыми.',
        falseRuleInfo: '«Как говорится» — вводная конструкция и выделяется запятыми.',
        helpMessage: 'Запятыми выделяются вводные словосочетания «как говорят», «как водится», «как всегда» и т.п.',
        author: `Л. Н. Толстой «Война и мир»`
      },
      {
        id: 4,
        questionText: `Москве больше делать нечего, как сплетничать.`,
        correctText: `Москве больше делать нечего, как сплетничать.`,
        trueBtnText: 'Без запятой',
        falseBtnText: 'Запятая нужна',
        needCommas: true,
        trueRuleInfo: '',
        falseRuleInfo: '',
        helpMessage: '',
        author: `Л. Н. Толстой «Война и мир»`
      }
    ];

    const timerQuestions = [
      {
        id: 1,
        questionText: `Марья Гавриловна была воспитана на французских романах и следственно была влюблена.`,
        correctText: `ДА
Марья Гавриловна была воспитана на французских романах и, следственно, была влюблена.`,
        needCommas: true,
        trueRuleInfo: 'Вводное слово означает порядок мыслей и выделяется запятыми.',
        falseRuleInfo: 'Вводное слово означает порядок мыслей и выделяется запятыми.',
        author: `А.С. Пушкин
«Метель»`
      },
      {
        id: 2,
        questionText: `Тебя тоской преследовать не буду,
Прошедшее быть может позабуду —
Не для меня сотворена любовь.`,
        correctText: `ДАТебя тоской преследовать не буду,
Прошедшее, быть может, позабуду —
Не для меня сотворена любовь.`,
        needCommas: true,
        trueRuleInfo: 'Вводное словосочетание выражает неуверенность говорящего и выделяется запятыми.',
        falseRuleInfo: 'Вводное словосочетание выражает неуверенность говорящего и выделяется запятыми.',
        author: `А.С. Пушкин
«Всё кончено: меж нами связи нет...»`
      },
      {
        id: 3,
        questionText: `Ты прав: что может быть важней
На свете женщины прекрасной?`,
        correctText: `НЕТ
Ты прав: что может быть важней
На свете женщины прекрасной?`,
        needCommas: false,
        trueRuleInfo: 'Запятые не нужны, так как «может быть» — часть сказуемого.',
        falseRuleInfo: `Запятые не нужны, так как «может быть» — часть сказуемого, а не вводное.
          Проверка: нельзя выбросить из предложения без потери смысла.`,
        author: `А.С. Пушкин
«К Родзянке»`
      },
      {
        id: 4,
        questionText: `Старушка сидела однажды одна в гостиной, раскладывая гран-пасьянс.`,
        correctText: `НЕТ
Старушка сидела однажды одна в гостиной, раскладывая гран-пасьянс.`,
        needCommas: false,
        trueRuleInfo: 'Запятые не нужны, наречие «однажды» — обстоятельство, а не вводное слово.',
        falseRuleInfo: 'Запятая не нужна, наречие «однажды» — обстоятельство, а не вводное слово.',
        author: `А.С. Пушкин
«Метель»`
      }
    ];

    const dashQuestions = [
      {
        id: 1,
        questionText: `Театр уж полон; ложи блещут;
Партер и кресла |+| все кипит.`,
        correctText: `Театр уж полон; ложи блещут;
Партер и кресла — все кипит.`,
        trueRuleInfo: 'Тире ставится перед обобщающим словом.',
        falseRuleInfo:
          'Тире ставится перед обобщающим словом «всё», которое стоит после однородных членов предложения «партер» и «кресла».',
        author: `А.С. Пушкин «Евгений Онегин»`
      },
      {
        id: 2,
        questionText: `Петр Петрович, по крайней мере по моим признакам, |+| человек весьма почтенный.`,
        correctText: `Петр Петрович, по крайней мере по моим признакам, человек весьма почтенный.`,
        trueRuleInfo: 'Тире не ставится, так как между подлежащим и сказуемым есть вводная конструкция.',
        falseRuleInfo:
          'Тире не ставится, так как между подлежащим и сказуемым есть вводная конструкция «по крайней мере по моим признакам».',
        author: `Ф.М. Достоевский
«Преступление и наказание»`
      },
      {
        id: 3,
        questionText: `Я |-| честный человек и никогда не говорю комплиментов.`,
        correctText: `Я честный человек и никогда не говорю комплиментов.`,
        trueRuleInfo: 'Тире не ставится, так как подлежащее выражено местоимением.',
        falseRuleInfo: 'Тире не ставится, когда подлежащее выражено местоимением.',
        author: `А.П. Чехов «Учитель»`
      },
      {
        id: 4,
        questionText: `Погода |-| несносная, дорога |-| скверная, ямщик |-| упрямый — а виноват смотритель.`,
        correctText: `Погода несносная, дорога скверная, ямщик упрямый — а виноват смотритель.`,
        trueRuleInfo: 'Тире не ставится, так как сказуемое — прилагательное.',
        falseRuleInfo: `Тире не ставится во всех частях предложения, так как сказуемые в них выражены прилагательными,
          а тире ставится между двумя существительными, глаголами или числительными.`,
        author: `А.С. Пушкин
«Станционный смотритель»`
      }
    ];

    return { commaQuestions, timerQuestions, dashQuestions };
  }

  // Overrides the genId method to ensure that a item always has an id.
  // If the array is empty,
  // the method below returns the initial number (1).
  // if the array is not empty, the method below returns the highest
  // item id + 1.
  genId(questions: Question[]): number {
    return questions.length > 0 ? Math.max(...questions.map(question => question.id)) + 1 : 1;
  }
}
